spring:
  application:
    name: microwind.springboot4ddd

  autoconfigure:
    exclude:
      - com.baomidou.mybatisplus.autoconfigure.MybatisPlusAutoConfiguration
      - org.springframework.boot.autoconfigure.data.jdbc.JdbcRepositoriesAutoConfiguration
      - org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration

  # 测试环境使用H2内存数据库
  datasource:
    url: jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver
    username: sa
    password: ''

  # Redis测试配置
  data:
    redis:
      host: localhost
      port: 6379

  # 订单仓储配置
  order:
    repository:
      implementation: jdbc

  # MyBatis Plus 配置
  mybatis-plus:
    mapper-locations: classpath*:/mapper/**/*.xml
    type-aliases-package: com.github.microwind.springboot4ddd.domain.model
    configuration:
      map-underscore-to-camel-case: true
      log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl

# 日志配置
logging:
  level:
    root: INFO
    com.github.microwind.springboot4ddd: DEBUG

server:
  port: 0

